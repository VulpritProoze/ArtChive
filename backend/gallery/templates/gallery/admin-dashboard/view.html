{% extends "admin-dashboard/base.html" %}
{% load static %}

{% block title %}Gallery Dashboard{% endblock %}

{% block content %}
<div class="mb-8">
    <h2 class="text-2xl font-bold mb-2">Gallery App Statistics</h2>
    <p class="text-font-muted-light dark:text-font-muted-dark">Gallery statistics and publication status</p>
</div>

<!-- Time Range Selector -->
<div class="time-range-selector">
    <a href="?range=24h" class="time-range-btn {% if current_range == '24h' %}active{% endif %}">24 Hours</a>
    <a href="?range=1w" class="time-range-btn {% if current_range == '1w' %}active{% endif %}">1 Week</a>
    <a href="?range=1m" class="time-range-btn {% if current_range == '1m' %}active{% endif %}">1 Month</a>
    <a href="?range=1y" class="time-range-btn {% if current_range == '1y' %}active{% endif %}">1 Year</a>
</div>

<!-- Gallery Statistics -->
<div class="mb-8">
    <h3 class="text-xl font-semibold mb-4">Gallery Statistics</h3>
    <div class="dashboard-grid mb-6">
        <div class="stat-card">
            <p class="stat-card-title">Total Galleries</p>
            <p class="stat-card-value">{{ total_galleries }}</p>
        </div>
        <div class="stat-card">
            <p class="stat-card-title">Published Galleries</p>
            <p class="stat-card-value">{{ published_galleries }}</p>
        </div>
        <div class="stat-card">
            <p class="stat-card-title">Draft Galleries</p>
            <p class="stat-card-value">{{ draft_galleries }}</p>
        </div>
        <div class="stat-card">
            <p class="stat-card-title">Archived Galleries</p>
            <p class="stat-card-value">{{ archived_galleries }}</p>
        </div>
    </div>
    <div class="dashboard-grid mb-6">
        <div class="stat-card">
            <p class="stat-card-title">New Galleries (24h)</p>
            <p class="stat-card-value">{{ galleries_24h }}</p>
        </div>
        <div class="stat-card">
            <p class="stat-card-title">New Galleries (1 Week)</p>
            <p class="stat-card-value">{{ galleries_1w }}</p>
        </div>
        <div class="stat-card">
            <p class="stat-card-title">New Galleries (1 Month)</p>
            <p class="stat-card-value">{{ galleries_1m }}</p>
        </div>
        <div class="stat-card">
            <p class="stat-card-title">New Galleries (1 Year)</p>
            <p class="stat-card-value">{{ galleries_1y }}</p>
        </div>
    </div>
    <div class="chart-container mb-6">
        <h4 class="text-lg font-medium mb-4">Gallery Growth Over Time</h4>
        <div id="gallery-growth-chart"></div>
    </div>
</div>

<!-- Awards Section (Coming Soon) -->
<div class="mb-8">
    <div class="stat-card">
        <h3 class="text-xl font-semibold mb-2">Awards</h3>
        <p class="text-font-muted-light dark:text-font-muted-dark">Coming soon</p>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Gallery Growth Chart
    const galleryGrowthData = {{ gallery_growth_data|safe }};
    createDashboardChart('gallery-growth-chart', {
        chart: { type: 'line' },
        series: [{
            name: 'New Galleries',
            data: galleryGrowthData.map(item => item.y)
        }],
        xaxis: {
            categories: galleryGrowthData.map(item => item.x),
            labels: { rotate: -45 }
        },
        yaxis: { title: { text: 'Number of Galleries' } },
        title: { text: 'Gallery Growth', align: 'left' }
    });
</script>
{% endblock %}

